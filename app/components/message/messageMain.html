<div layout="column" ng-cloak>
	<section layout="row" flex>
		<md-sidenav
				class="md-sidenav-left"
				md-component-id="left"
				md-is-locked-open="$mdMedia('gt-md')"
				md-whiteframe="4">
			<md-toolbar class="md-theme-indigo">
				<h1 class="md-toolbar-tools">Messages</h1>
			</md-toolbar>
			<md-content ng-controller="LeftCtrl">
				<div class="list-group">
					<div ng-repeat="messageRoom in MessageCtrl.messageRooms" loader>
						<a ng-click="close()" ui-sref="message.join({message_room_id: {{messageRoom.id}}})"
						   class="list-group-item">{{messageRoom.messages[0].user.first_name}}
							{{messageRoom.messages[0].user.last_name}}: <br/>
							{{messageRoom.messages[0].message_body}}</a>
					</div>
				</div>
				<md-button ng-click="close()" class="md-warn md-raised" hide-gt-md>
					Close Menu
				</md-button>
			</md-content>
		</md-sidenav>

		<md-content flex layout-padding>
			<div ui-view></div>
		</md-content>

		<md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right">
			<md-toolbar class="md-theme-light">
				<h1 class="md-toolbar-tools">Sidenav Right</h1>
			</md-toolbar>
			<md-content ng-controller="RightCtrl" layout-padding>
				<form>
					<md-input-container>
						<label for="testInput">Test input</label>
						<input type="text" id="testInput"
						       ng-model="data" md-autofocus>
					</md-input-container>
				</form>
				<md-button ng-click="close()" class="md-primary">
					Close Sidenav Right
				</md-button>
			</md-content>
		</md-sidenav>
	</section>
</div>